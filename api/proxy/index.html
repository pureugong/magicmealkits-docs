
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="API documentation for Magic Meal Kits">
      
      
        <meta name="author" content="Ìë∏Î•¥Í≥µ">
      
      
        <link rel="canonical" href="https://docs.magicmealkits.com/api/proxy/">
      
      
        <link rel="prev" href="../slack/">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.7">
    
    
      
        <title>Proxy Image API - Magic Meal Kits API Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#google-drive-image-proxy-for-notion" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Magic Meal Kits API Documentation" class="md-header__button md-logo" aria-label="Magic Meal Kits API Documentation" data-md-component="logo">
      
  <img src="../../assets/images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Magic Meal Kits API Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Proxy Image API
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  API Reference

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="https://make.magicmealkits.com/" class="md-tabs__link">
        
  
    
  
  Magic Meal Kits üéÅ

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Magic Meal Kits API Documentation" class="md-nav__button md-logo" aria-label="Magic Meal Kits API Documentation" data-md-component="logo">
      
  <img src="../../assets/images/logo.png" alt="logo">

    </a>
    Magic Meal Kits API Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pdf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PDF API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../javascript/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JavaScript API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../youtube/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    YouTube API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Notion API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../slack/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Slack API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Proxy Image API
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Proxy Image API
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#key-features" class="md-nav__link">
    <span class="md-ellipsis">
      Key Features
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#authentication" class="md-nav__link">
    <span class="md-ellipsis">
      Authentication
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#video" class="md-nav__link">
    <span class="md-ellipsis">
      Video
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#endpoints" class="md-nav__link">
    <span class="md-ellipsis">
      Endpoints
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generate-proxy-url-for-google-drive-image" class="md-nav__link">
    <span class="md-ellipsis">
      Generate Proxy URL for Google Drive Image
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Generate Proxy URL for Google Drive Image">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-apiv1proxy-url" class="md-nav__link">
    <span class="md-ellipsis">
      GET /api/v1/proxy-url
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#access-proxied-google-drive-image" class="md-nav__link">
    <span class="md-ellipsis">
      Access Proxied Google Drive Image
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Access Proxied Google Drive Image">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-proxyjpg" class="md-nav__link">
    <span class="md-ellipsis">
      GET /proxy.jpg
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#google-drive-integration-for-notion" class="md-nav__link">
    <span class="md-ellipsis">
      Google Drive Integration for Notion
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Google Drive Integration for Notion">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-it-works" class="md-nav__link">
    <span class="md-ellipsis">
      How It Works
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-by-step-guide-for-notion" class="md-nav__link">
    <span class="md-ellipsis">
      Step-by-Step Guide for Notion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supported-google-drive-url-formats" class="md-nav__link">
    <span class="md-ellipsis">
      Supported Google Drive URL Formats
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#benefits-for-notion-users" class="md-nav__link">
    <span class="md-ellipsis">
      Benefits for Notion Users
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage-example-in-notion" class="md-nav__link">
    <span class="md-ellipsis">
      Usage Example in Notion
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#error-handling" class="md-nav__link">
    <span class="md-ellipsis">
      Error Handling
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://make.magicmealkits.com/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Magic Meal Kits üéÅ
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#key-features" class="md-nav__link">
    <span class="md-ellipsis">
      Key Features
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#authentication" class="md-nav__link">
    <span class="md-ellipsis">
      Authentication
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#video" class="md-nav__link">
    <span class="md-ellipsis">
      Video
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#endpoints" class="md-nav__link">
    <span class="md-ellipsis">
      Endpoints
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generate-proxy-url-for-google-drive-image" class="md-nav__link">
    <span class="md-ellipsis">
      Generate Proxy URL for Google Drive Image
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Generate Proxy URL for Google Drive Image">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-apiv1proxy-url" class="md-nav__link">
    <span class="md-ellipsis">
      GET /api/v1/proxy-url
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#access-proxied-google-drive-image" class="md-nav__link">
    <span class="md-ellipsis">
      Access Proxied Google Drive Image
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Access Proxied Google Drive Image">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-proxyjpg" class="md-nav__link">
    <span class="md-ellipsis">
      GET /proxy.jpg
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#google-drive-integration-for-notion" class="md-nav__link">
    <span class="md-ellipsis">
      Google Drive Integration for Notion
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Google Drive Integration for Notion">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-it-works" class="md-nav__link">
    <span class="md-ellipsis">
      How It Works
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-by-step-guide-for-notion" class="md-nav__link">
    <span class="md-ellipsis">
      Step-by-Step Guide for Notion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supported-google-drive-url-formats" class="md-nav__link">
    <span class="md-ellipsis">
      Supported Google Drive URL Formats
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#benefits-for-notion-users" class="md-nav__link">
    <span class="md-ellipsis">
      Benefits for Notion Users
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage-example-in-notion" class="md-nav__link">
    <span class="md-ellipsis">
      Usage Example in Notion
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#error-handling" class="md-nav__link">
    <span class="md-ellipsis">
      Error Handling
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="google-drive-image-proxy-for-notion">Google Drive Image Proxy for Notion<a class="headerlink" href="#google-drive-image-proxy-for-notion" title="Permanent link">&para;</a></h1>
<p>The Google Drive Image Proxy API provides endpoints for embedding Google Drive images in Notion pages. This API solves the challenge of using Google Drive images in Notion, which doesn't natively support direct embedding of Google Drive images.</p>
<h2 id="key-features">Key Features<a class="headerlink" href="#key-features" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Google Drive Integration</strong>: Easily embed Google Drive images in Notion pages</li>
<li><strong>Image Optimization</strong>: Resize and optimize images for Notion</li>
<li><strong>Caching</strong>: Improve loading times with server-side caching</li>
</ul>
<h2 id="authentication">Authentication<a class="headerlink" href="#authentication" title="Permanent link">&para;</a></h2>
<p>All Google Drive Image Proxy API endpoints require authentication using an API key. Include your API key in the <code>X-API-KEY</code> header of your requests.</p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span><span class="s2">&quot;https://magic-meal-kits-xxxxx.run.app/api/v1/proxy-url?url=https://drive.google.com/file/d/YOUR_FILE_ID/view&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">     </span>-H<span class="w"> </span><span class="s2">&quot;X-API-KEY: your-api-key&quot;</span>
</code></pre></div>
<h2 id="video">Video<a class="headerlink" href="#video" title="Permanent link">&para;</a></h2>
<div style="padding:56.25% 0 0 0;position:relative;">
  <iframe src="https://player.vimeo.com/video/1028074925?autoplay=1&loop=1&byline=0&title=0" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen style="position:absolute;top:0;left:0;width:100%;height:100%;" title="Google Drive Image Proxy for Notion"></iframe>
</div>

<h2 id="endpoints">Endpoints<a class="headerlink" href="#endpoints" title="Permanent link">&para;</a></h2>
<h3 id="generate-proxy-url-for-google-drive-image">Generate Proxy URL for Google Drive Image<a class="headerlink" href="#generate-proxy-url-for-google-drive-image" title="Permanent link">&para;</a></h3>
<p>Generates a proxy URL for a Google Drive image that can be used in Notion.</p>
<h4 id="get-apiv1proxy-url">GET <code>/api/v1/proxy-url</code><a class="headerlink" href="#get-apiv1proxy-url" title="Permanent link">&para;</a></h4>
<p><strong>Query Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>url</td>
<td>String</td>
<td>Yes</td>
<td>URL of the Google Drive image</td>
</tr>
<tr>
<td>width</td>
<td>Integer</td>
<td>No</td>
<td>Desired width of the image</td>
</tr>
</tbody>
</table>
<p><strong>Example Request:</strong></p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span><span class="s2">&quot;https://magic-meal-kits-xxxxx.run.app/api/v1/proxy-url?url=https://drive.google.com/file/d/YOUR_FILE_ID/view&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">     </span>-H<span class="w"> </span><span class="s2">&quot;X-API-KEY: your-api-key&quot;</span>
</code></pre></div>
<p><strong>Example Response:</strong></p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;success&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;original_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://drive.google.com/file/d/YOUR_FILE_ID/view&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;proxy_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://magic-meal-kits-xxxxx.run.app/proxy.jpg?url=encrypted_url_data&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;proxy_urls&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;original&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://magic-meal-kits-xxxxx.run.app/proxy.jpg?url=encrypted_url_data&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;thumbnail&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://magic-meal-kits-xxxxx.run.app/proxy.jpg?url=encrypted_url_data&amp;width=150&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;small&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://magic-meal-kits-xxxxx.run.app/proxy.jpg?url=encrypted_url_data&amp;width=400&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;medium&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://magic-meal-kits-xxxxx.run.app/proxy.jpg?url=encrypted_url_data&amp;width=800&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;large&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://magic-meal-kits-xxxxx.run.app/proxy.jpg?url=encrypted_url_data&amp;width=1200&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="access-proxied-google-drive-image">Access Proxied Google Drive Image<a class="headerlink" href="#access-proxied-google-drive-image" title="Permanent link">&para;</a></h3>
<p>Accesses and optimizes a Google Drive image through the proxy.</p>
<h4 id="get-proxyjpg">GET <code>/proxy.jpg</code><a class="headerlink" href="#get-proxyjpg" title="Permanent link">&para;</a></h4>
<p><strong>Query Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>url</td>
<td>String</td>
<td>Yes</td>
<td>Encrypted URL data from the proxy-url endpoint</td>
</tr>
<tr>
<td>width</td>
<td>Integer</td>
<td>No</td>
<td>Width to resize the image to</td>
</tr>
</tbody>
</table>
<p><strong>Example Request:</strong></p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span><span class="s2">&quot;https://magic-meal-kits-xxxxx.run.app/proxy.jpg?url=encrypted_url_data&amp;width=800&quot;</span>
</code></pre></div>
<p><strong>Response:</strong></p>
<p>The image data with appropriate content type headers.</p>
<h2 id="google-drive-integration-for-notion">Google Drive Integration for Notion<a class="headerlink" href="#google-drive-integration-for-notion" title="Permanent link">&para;</a></h2>
<p>This API is specifically designed to solve the challenge of embedding Google Drive images in Notion, which doesn't natively support direct embedding of Google Drive images.</p>
<h3 id="how-it-works">How It Works<a class="headerlink" href="#how-it-works" title="Permanent link">&para;</a></h3>
<ol>
<li>You provide a Google Drive public image URL</li>
<li>The API converts it to a directly accessible URL</li>
<li>The image can now be embedded in Notion pages</li>
</ol>
<h3 id="step-by-step-guide-for-notion">Step-by-Step Guide for Notion<a class="headerlink" href="#step-by-step-guide-for-notion" title="Permanent link">&para;</a></h3>
<ol>
<li>Make your Google Drive image publicly accessible (right-click ‚Üí Share ‚Üí Anyone with the link)</li>
<li>Get the image URL from Google Drive (right-click ‚Üí Get link)</li>
<li>Generate a proxy URL using the <code>/api/v1/proxy-url</code> endpoint</li>
<li>Use the returned proxy URL in your Notion page's image block</li>
</ol>
<h3 id="supported-google-drive-url-formats">Supported Google Drive URL Formats<a class="headerlink" href="#supported-google-drive-url-formats" title="Permanent link">&para;</a></h3>
<p>The API supports various Google Drive URL formats:</p>
<ul>
<li><code>https://drive.google.com/file/d/FILE_ID/view</code></li>
<li><code>https://drive.google.com/open?id=FILE_ID</code></li>
<li><code>https://docs.google.com/uc?id=FILE_ID</code></li>
</ul>
<h3 id="benefits-for-notion-users">Benefits for Notion Users<a class="headerlink" href="#benefits-for-notion-users" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Direct Embedding</strong>: Bypass Notion's limitations with Google Drive images</li>
<li><strong>Optimized Loading</strong>: Images load faster due to optimization and caching</li>
<li><strong>Responsive Images</strong>: Create different sized versions for different devices</li>
<li><strong>Persistent Access</strong>: Images remain accessible even if Google Drive changes URL structures</li>
</ul>
<h2 id="usage-example-in-notion">Usage Example in Notion<a class="headerlink" href="#usage-example-in-notion" title="Permanent link">&para;</a></h2>
<p>Here's how to use the Google Drive Image Proxy API with Notion:</p>
<ol>
<li>
<p>Generate a proxy URL for your Google Drive image:
   <div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span><span class="s2">&quot;https://magic-meal-kits-xxxxx.run.app/api/v1/proxy-url?url=https://drive.google.com/file/d/YOUR_FILE_ID/view&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">     </span>-H<span class="w"> </span><span class="s2">&quot;X-API-KEY: your-api-key&quot;</span>
</code></pre></div></p>
</li>
<li>
<p>Copy the <code>proxy_url</code> value from the response</p>
</li>
<li>In Notion, create an image block (type <code>/image</code>)</li>
<li>Select "Link" and paste the proxy URL</li>
<li>The image will now display properly in your Notion page</li>
</ol>
<h2 id="error-handling">Error Handling<a class="headerlink" href="#error-handling" title="Permanent link">&para;</a></h2>
<p>If an error occurs, the API returns an error response:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;success&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;error&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Error message description&quot;</span>
<span class="p">}</span>
</code></pre></div>
<p>Common error codes:</p>
<ul>
<li><strong>400 Bad Request</strong>: Invalid parameters or request body</li>
<li><strong>401 Unauthorized</strong>: Missing or invalid API key</li>
<li><strong>404 Not Found</strong>: Image not found or URL is invalid</li>
<li><strong>429 Too Many Requests</strong>: Rate limit exceeded</li>
<li><strong>500 Internal Server Error</strong>: Server-side error </li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://make.magicmealkits.com/" target="_blank" rel="noopener" title="Magic Meal Kits Service" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M352 256c0 22.2-1.2 43.6-3.3 64H163.4c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6 3.3-64h185.3c2.2 20.4 3.3 41.8 3.3 64m28.8-64h123.1c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64H380.8c2.1-20.6 3.2-42 3.2-64s-1.1-43.4-3.2-64m112.6-32H376.7c-10-63.9-29.8-117.4-55.3-151.6 78.3 20.7 142 77.5 171.9 151.6zm-149.1 0H167.7c6.1-36.4 15.5-68.6 27-94.7 10.5-23.6 22.2-40.7 33.5-51.5C239.4 3.2 248.7 0 256 0s16.6 3.2 27.8 13.8c11.3 10.8 23 27.9 33.5 51.5 11.6 26 20.9 58.2 27 94.7m-209 0H18.6c30-74.1 93.6-130.9 172-151.6-25.5 34.2-45.3 87.7-55.3 151.6M8.1 192h123.1c-2.1 20.6-3.2 42-3.2 64s1.1 43.4 3.2 64H8.1C2.8 299.5 0 278.1 0 256s2.8-43.5 8.1-64m186.6 254.6c-11.6-26-20.9-58.2-27-94.6h176.6c-6.1 36.4-15.5 68.6-27 94.6-10.5 23.6-22.2 40.7-33.5 51.5-11.2 10.7-20.5 13.9-27.8 13.9s-16.6-3.2-27.8-13.8c-11.3-10.8-23-27.9-33.5-51.5zM135.3 352c10 63.9 29.8 117.4 55.3 151.6-78.4-20.7-142-77.5-172-151.6zm358.1 0c-30 74.1-93.6 130.9-171.9 151.6 25.5-34.2 45.2-87.7 55.3-151.6h116.7z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.expand", "content.code.copy"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>